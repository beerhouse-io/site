<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>BeerHouse.io - Token Ranking</title>
    <meta content="Live ranking of token votes" name="description" />
    <meta content="BeerHouse.io - Token Ranking" property="og:title" />
    <meta content="Live ranking of token votes" property="og:description" />
    <meta content="https://uploads-ssl.webflow.com/61f449ce2bf6439f65d3ff5a/620cedb8b49ee34a9f778029_open_graph.jpg"
        property="og:image" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="/css/beerhouse.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
        WebFont.load({
            google: {
                families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic", "Oswald:200,300,400,500,600,700", "PT Sans:400,400italic,700,700italic", "Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic", "Manrope:regular,500,600"]
            }
        });
    </script>
    <script type="text/javascript">
        !function (o, c) {
            var n = c.documentElement
                , t = " w-mod-";
            n.className += t + "js",
                ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
        }(window, document);
    </script>
    <link href="https://uploads-ssl.webflow.com/61f449ce2bf6439f65d3ff5a/61fabc3dd2d00c80d6a4beea_favicon.png"
        rel="shortcut icon" type="image/x-icon" />
    <link href="https://uploads-ssl.webflow.com/61f449ce2bf6439f65d3ff5a/61fabc453983d16eba40163e_webclip.png"
        rel="apple-touch-icon" />
    <style>
        body {
            overflow-x: hidden;
        }

        .ranking-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .ranking-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .ranking-table th,
        .ranking-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .ranking-table th {
            background-color: #f8f9fa;
            font-weight: 700;
            color: #333;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        .ranking-table tr:last-child td {
            border-bottom: none;
        }

        .ranking-table tr:hover {
            background-color: #f8f9fa;
        }

        .rank-cell {
            font-weight: bold;
            color: #3898ec;
            width: 60px;
            text-align: center !important;
        }

        .token-cell {
            font-weight: 600;
            color: #333;
            font-size: 16px;
        }

        .votes-cell {
            text-align: right !important;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            color: #555;
        }

        .top-rank {
            background-color: #fff8e1;
        }

        .top-rank .rank-cell {
            color: #fbc02d;
            font-size: 1.2em;
        }

        .rules-box {
            max-width: 800px;
            margin: 0 auto 30px;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            color: #333;
        }

        .rules-box h3 {
            margin-top: 0;
            margin-bottom: 20px;
            color: #22282e;
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
            font-size: 20px;
            border-bottom: 3px solid #fbc02d;
            display: inline-block;
            padding-bottom: 5px;
        }

        .rules-box ul {
            margin: 0;
            padding-left: 25px;
        }

        .rules-box li {
            margin-bottom: 12px;
            font-size: 16px;
            line-height: 1.5;
            color: #444;
        }
    </style>
</head>

<body class="body" style="background-color: #22282e;">
    <script src="/cardano/connect.js"></script>
    <script>
        window.onload = (event) => {
            connectWallet()
        };
    </script>

    <div data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease"
        role="banner" class="navbar w-nav">
        <div id="top" class="container-header w-container">
            <a href="https://beerhouse.io/" class="brand w-nav-brand">
                <img src="https://uploads-ssl.webflow.com/61f449ce2bf6439f65d3ff5a/620659483fba9d97fb36cb60_Logo.png"
                    loading="lazy" alt="BeerHouse.io" />
            </a>
            <nav role="navigation" class="w-nav-menu">
                <a href="index.html" class="button-login w-button">Home</a>
                <a href="voting.html" class="button-login w-button" style="margin-left: 10px;">VOTE</a>
                <a id="btn-connect" href="/connect-wallet.html" style="margin-left: 20px;"
                    class="button-login w-button">CONNECT</a>
            </nav>
            <div class="menu-button w-nav-button">
                <div class="w-icon-nav-menu"></div>
            </div>
        </div>
    </div>

    <div class="section-claim wf-section">
        <div class="container-text2-copy vending-machine w-container">
            <h2 class="heading-clain-title">Token Ranking</h2>
        </div>
        <div class="container-text3 vm w-container">
            <div class="reward-text" style="color: white; margin-bottom: 10px;">
                Current standing of tokens based on community votes.
            </div>
            <div id="lastTokensListed" style="color: #aaa; font-size: 14px; font-style: italic;"></div>
            <div id="lastUpdated" style="color: #aaa; font-size: 14px; margin-bottom: 30px; font-style: italic;">
                Loading last update...
            </div>
        </div>

        <div class="ranking-container">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th style="text-align: center;">Rank</th>
                        <th>Token</th>
                        <th style="text-align: right;">Votes</th>
                    </tr>
                </thead>
                <tbody id="rankingBody">
                    <!-- Rows generated by JS -->
                </tbody>
            </table>
        </div>

        <div class="rules-box">
            <h3>Ranking Rules</h3>
            <ul>
                <li>Only holders than 100 pints or more can vote.</li>
                <li>The power of your vote depends on the number of pints your wallet holds at the time of the snapshot.</li>
                <li>Screenshots are taken periodically.</li>
                <li>You can change your vote at any time, but it will only be valid at the time of the snapshot.</li>
                <li>The number of tokens monitored depends on the number of pints available on the market.</li>
                <li>For every 100,000 pints on the market, a new token is monitored.</li>
            </ul>
        </div>

        <div style="text-align: center; margin-bottom: 60px; margin-top: 30px;">
            <a href="voting.html" class="button-login w-button">Vote Now</a>
        </div>

    </div>

    <div class="container-12 w-container">
        <div class="div-block-6"></div>
        <div class="columns-14 w-row">
            <div class="column-19 w-col w-col-4">
                <img src="https://uploads-ssl.webflow.com/61f449ce2bf6439f65d3ff5a/620659483fba9d97fb36cb60_Logo.png"
                    loading="lazy" width="169" alt="BeerHouse.io" />
            </div>
            <div class="column-20 w-col w-col-4"></div>
            <div class="column-21 w-col w-col-4">
                <a href="#top" class="link">Back to the top</a>
            </div>
        </div>
        <div class="text-block-9">Copyright &copy; 2022 BeerHouse.io. All rights reserved.</div>
    </div>

    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=61f449ce2bf6439f65d3ff5a"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <script src="https://uploads-ssl.webflow.com/61f449ce2bf6439f65d3ff5a/js/webflow.23b93f89d.js"
        type="text/javascript"></script>
    <script>
        const tbody = document.getElementById('rankingBody');
        const lastUpdatedDiv = document.getElementById('lastUpdated');
        const lastTokensListedDiv = document.getElementById('lastTokensListed');

        fetch('ranking.json')
            .then(response => response.json())
            .then(data => {
                const tokens = data.tokens;
                const listed = data.listed;
                const updatedAt = new Date(data.updatedAt);

                // Format date
                lastUpdatedDiv.textContent = 'Last updated: ' + updatedAt.toLocaleString();
                lastTokensListedDiv.textContent = 'Total number of tokens monitored during this period: ' + listed;

                // Sort by votes descending
                tokens.sort((a, b) => b.votes - a.votes);

                tokens.forEach((token, index) => {
                    const tr = document.createElement('tr');
                    const rank = index + 1;

                    if (rank <= listed) {
                        tr.classList.add('top-rank');
                    }

                    tr.innerHTML = `
                        <td class="rank-cell">#${rank}</td>
                        <td class="token-cell">${token.name}</td>
                        <td class="votes-cell">${token.votes.toLocaleString()}</td>
                    `;
                    tbody.appendChild(tr);
                });
            })
            .catch(error => {
                console.error('Error loading ranking data:', error);
                tbody.innerHTML = '<tr><td colspan="3" style="text-align: center; color: red;">Error loading ranking data.</td></tr>';
                lastUpdatedDiv.textContent = 'Last updated: Unknown';
            });
    </script>
    <script src="/cardano/connect.js"></script>
    <script>
        window.onload = (event) => {
            // Optional: Check wallet connection if needed, currently just existing standard logic
            // const checkConnect = async () => { ... }
        }
    </script>
</body>

</html>